function displayResults(db, query) {
    try {
        const results = db.exec(query);
        console.log("Query results:", results);
        
        const tbody = document.querySelector('#results-table tbody');
        tbody.innerHTML = '';
        
        if (!results.length || !results[0].values.length) {
            tbody.innerHTML = '<tr><td colspan="6">No boards found</td></tr>';
            return;
        }
        
        // Get column names
        const columns = results[0].columns;
        
        results[0].values.forEach(row => {
            const tr = document.createElement('tr');
            // Display more columns
            tr.innerHTML = `
                <td>${row[columns.indexOf('name')]}</td>
                <td>${row[columns.indexOf('manufacturer')]}</td>
                <td>$${parseFloat(row[columns.indexOf('price')]).toLocaleString()}</td>
                <td>${parseInt(row[columns.indexOf('logic_elements')]).toLocaleString()}</td>
                <td>${parseInt(row[columns.indexOf('memory_kb')]).toLocaleString()} KB</td>
                <td>${parseInt(row[columns.indexOf('dsp_blocks')]).toLocaleString()}</td>
            `;
            tbody.appendChild(tr);
        });
    } catch (error) {
        console.error('Query error:', error);
        document.querySelector('#results-table tbody').innerHTML = 
            `<tr><td colspan="6">Query error: ${error.message}</td></tr>`;
    }
}